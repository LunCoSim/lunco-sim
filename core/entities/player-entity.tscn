[gd_scene load_steps=28 format=3 uid="uid://ch5t8f7mxyx1v"]

[ext_resource type="PackedScene" uid="uid://baunvflaucrbn" path="res://addons/lunco-content/player/player.tscn" id="1_tcir3"]
[ext_resource type="PackedScene" uid="uid://cibc2v3g1bk4g" path="res://core/controllers/player/player-controller.tscn" id="2_uqu3g"]
[ext_resource type="Script" path="res://core/controllers/player/player-input-adapted.gd" id="2_vwyvh"]

[sub_resource type="AnimationNodeAdd3" id="AnimationNodeAdd3_6nea4"]
resource_local_to_scene = true
filter_enabled = true
filters = ["Robot_Skeleton/Skeleton3D:neck.001", "Robot_Skeleton/Skeleton3D:upper_arm.R"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oi7qe"]
resource_local_to_scene = true
animation = &"AIM-Down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vqrxu"]
resource_local_to_scene = true
animation = &"AIM-Up"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_8oi2j"]
resource_local_to_scene = true
filter_enabled = true
filters = ["Robot_Skeleton/Skeleton3D:eyelid.d.L", "Robot_Skeleton/Skeleton3D:eyelid.d.R", "Robot_Skeleton/Skeleton3D:eyelid.u.L", "Robot_Skeleton/Skeleton3D:eyelid.u.R", "Robot_Skeleton/Skeleton3D:eyes"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tuy72"]
resource_local_to_scene = true
animation = &"eyes"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s6g04"]
resource_local_to_scene = true
animation = &"jump_5_hardlanding"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_35vdm"]
resource_local_to_scene = true
animation = &"jump_4_falling"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xsgum"]
resource_local_to_scene = true
animation = &"jump_2_upwards"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_7b30c"]
resource_local_to_scene = true
fadein_time = 0.25
fadeout_time = 0.25
autorestart_random_delay = 1.0

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_x6oo7"]
resource_local_to_scene = true
xfade_time = 0.2
input_0/name = "strafe"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "walk"
input_1/auto_advance = false
input_1/reset = true
input_2/name = "jump_up"
input_2/auto_advance = false
input_2/reset = true
input_3/name = "jump_down"
input_3/auto_advance = false
input_3/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_q4it3"]
resource_local_to_scene = true
animation = &"strafe_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_is3cv"]
resource_local_to_scene = true
animation = &"strafe_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ytkch"]
resource_local_to_scene = true
animation = &"strafe_back"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fudg0"]
resource_local_to_scene = true
animation = &"strafe_front"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_81lib"]
resource_local_to_scene = true
animation = &"Idlecombat"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_li3j1"]
resource_local_to_scene = true
blend_point_0/node = SubResource("AnimationNodeAnimation_q4it3")
blend_point_0/pos = Vector2(1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_is3cv")
blend_point_1/pos = Vector2(-1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_ytkch")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_fudg0")
blend_point_3/pos = Vector2(0, 1)
blend_point_4/node = SubResource("AnimationNodeAnimation_81lib")
blend_point_4/pos = Vector2(0, 0)

[sub_resource type="AnimationNodeTimeScale" id="37"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_whteq"]
resource_local_to_scene = true
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5sgt6"]
resource_local_to_scene = true
animation = &"running_nogun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mjnh2"]
resource_local_to_scene = true
animation = &"running_gun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mojv7"]
resource_local_to_scene = true
animation = &"Idlecombat"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_v3r53"]
resource_local_to_scene = true
blend_point_0/node = SubResource("AnimationNodeAnimation_whteq")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_5sgt6")
blend_point_1/pos = Vector2(1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_mjnh2")
blend_point_2/pos = Vector2(1, 1)
blend_point_3/node = SubResource("AnimationNodeAnimation_mojv7")
blend_point_3/pos = Vector2(0, 1)
min_space = Vector2(0, 0)
x_label = "speed"
y_label = "gun"

[sub_resource type="AnimationNodeTimeScale" id="36"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_8rwx7"]
resource_local_to_scene = true
graph_offset = Vector2(-638.874, -39.3958)
nodes/aim/node = SubResource("AnimationNodeAdd3_6nea4")
nodes/aim/position = Vector2(1120, 1240)
nodes/aimdown/node = SubResource("AnimationNodeAnimation_oi7qe")
nodes/aimdown/position = Vector2(140, 580)
nodes/aimup/node = SubResource("AnimationNodeAnimation_vqrxu")
nodes/aimup/position = Vector2(140, 380)
nodes/eye_blend/node = SubResource("AnimationNodeBlend2_8oi2j")
nodes/eye_blend/position = Vector2(1340, 1220)
nodes/eyes/node = SubResource("AnimationNodeAnimation_tuy72")
nodes/eyes/position = Vector2(140, 580)
nodes/hardland/node = SubResource("AnimationNodeAnimation_s6g04")
nodes/hardland/position = Vector2(140, 780)
nodes/jumpdown/node = SubResource("AnimationNodeAnimation_35vdm")
nodes/jumpdown/position = Vector2(140, 980)
nodes/jumpup/node = SubResource("AnimationNodeAnimation_xsgum")
nodes/jumpup/position = Vector2(140, 1180)
nodes/land/node = SubResource("AnimationNodeOneShot_7b30c")
nodes/land/position = Vector2(880, 1300)
nodes/output/position = Vector2(1560, 1220)
nodes/state/node = SubResource("AnimationNodeTransition_x6oo7")
nodes/state/position = Vector2(680, 1340)
nodes/strafe/node = SubResource("AnimationNodeBlendSpace2D_li3j1")
nodes/strafe/position = Vector2(140, 1400)
nodes/strafe_speed/node = SubResource("37")
nodes/strafe_speed/position = Vector2(440, 1360)
nodes/walk/node = SubResource("AnimationNodeBlendSpace2D_v3r53")
nodes/walk/position = Vector2(140, 1640)
nodes/walk_speed/node = SubResource("36")
nodes/walk_speed/position = Vector2(440, 1600)
node_connections = [&"output", 0, &"eye_blend", &"aim", 0, &"aimdown", &"aim", 1, &"land", &"aim", 2, &"aimup", &"eye_blend", 0, &"aim", &"eye_blend", 1, &"eyes", &"land", 0, &"state", &"land", 1, &"hardland", &"state", 0, &"strafe_speed", &"state", 1, &"walk_speed", &"state", 2, &"jumpup", &"state", 3, &"jumpdown", &"strafe_speed", 0, &"strafe", &"walk_speed", 0, &"walk"]

[node name="Player" instance=ExtResource("1_tcir3")]
user_name = "No user"

[node name="InputSynchronizer" parent="." index="1"]
unique_name_in_owner = true
script = ExtResource("2_vwyvh")

[node name="Skeleton3D" parent="PlayerModel/Robot_Skeleton" index="0"]
bones/1/position = Vector3(0.175267, 2.23074, -0.316151)
bones/1/rotation = Quaternion(0.1826, -0.00121311, -0.00614841, 0.983167)
bones/2/position = Vector3(2.69681e-05, 0.242726, -0.0015129)
bones/2/rotation = Quaternion(-0.091001, -0.00080662, -0.0027241, 0.995847)
bones/3/position = Vector3(2.69532e-05, 0.106246, -0.000659948)
bones/3/rotation = Quaternion(-0.0996987, -0.000206631, -0.0028163, 0.995014)
bones/4/position = Vector3(2.69682e-05, 0.121055, 0.000296231)
bones/4/rotation = Quaternion(-0.036631, 0.000198089, -0.00281691, 0.999325)
bones/5/position = Vector3(-1.49012e-08, 0.326562, 2.63736e-08)
bones/5/rotation = Quaternion(0.180715, -8.5224e-05, -0.00187649, 0.983534)
bones/6/rotation = Quaternion(-0.0215005, 0.799315, 0.600497, -0.00605777)
bones/7/position = Vector3(-1.09552e-09, -0.000460265, -0.0128666)
bones/7/rotation = Quaternion(-0.00860824, 0.70698, 0.707156, 0.005889)
bones/10/position = Vector3(-0.0236663, 0.245583, 0.126631)
bones/11/rotation = Quaternion(4.16363e-07, 0.930597, 0.366045, -5.69604e-07)
bones/12/rotation = Quaternion(4.16694e-07, 0.930597, 0.366045, -5.69814e-07)
bones/13/rotation = Quaternion(0.0442983, 0.958142, -0.282457, 0.0147928)
bones/14/rotation = Quaternion(2.09738e-07, 0.959165, -0.282846, -7.20678e-07)
bones/15/rotation = Quaternion(-0.336716, -0.354427, -0.466154, 0.737363)
bones/16/rotation = Quaternion(-0.689714, 0.0832441, 0.159522, 0.701369)
bones/17/rotation = Quaternion(0.00622823, 0.00450224, -0.24387, 0.969778)
bones/18/rotation = Quaternion(-0.00101013, -0.00138477, -0.251374, 0.967888)
bones/20/rotation = Quaternion(-0.0338717, -0.0177171, 0.985158, 0.167341)
bones/22/rotation = Quaternion(-0.194746, -0.0464294, 0.00117006, 0.979754)
bones/23/rotation = Quaternion(-0.217445, -0.0200941, -0.002674, 0.975862)
bones/24/rotation = Quaternion(-0.308398, -0.119646, 0.00040535, 0.943703)
bones/25/rotation = Quaternion(-0.4255, -0.0716017, -0.0214604, 0.901866)
bones/25/scale = Vector3(0.915814, 0.915814, 0.915814)
bones/27/rotation = Quaternion(-0.0490002, 0.0490007, -0.705409, 0.705404)
bones/28/rotation = Quaternion(0.000298451, -0.00777026, 0.527372, 0.849599)
bones/28/scale = Vector3(0.999995, 1.00001, 1)
bones/29/rotation = Quaternion(0.00420375, 0.00610657, 0.137007, 0.990542)
bones/30/rotation = Quaternion(-0.000414526, -0.00405838, 0.582214, 0.813025)
bones/33/rotation = Quaternion(-0.148507, -0.0279618, -0.00779491, 0.988485)
bones/34/rotation = Quaternion(-0.260447, -0.0255923, -0.00204009, 0.965147)
bones/35/rotation = Quaternion(-0.364368, -0.119453, -0.00676165, 0.923537)
bones/36/rotation = Quaternion(-0.425925, -0.0689027, -0.0271777, 0.901722)
bones/36/scale = Vector3(0.878301, 0.878301, 0.878301)
bones/39/rotation = Quaternion(-0.0980696, -0.0141329, -0.00210647, 0.995077)
bones/40/rotation = Quaternion(-0.325155, -0.0167602, -0.00590394, 0.945494)
bones/41/rotation = Quaternion(-0.460343, -0.118062, -0.0194032, 0.879641)
bones/42/rotation = Quaternion(-0.447648, -0.0710501, -0.0232223, 0.89108)
bones/42/scale = Vector3(0.80254, 0.80254, 0.80254)
bones/45/rotation = Quaternion(0.189582, -0.137612, 0.960075, 0.152895)
bones/47/rotation = Quaternion(-0.35808, 0.0134531, 0.242082, 0.901662)
bones/48/rotation = Quaternion(0.116975, 0.0729812, 0.612255, 0.778547)
bones/49/rotation = Quaternion(-0.286982, -0.0269552, -0.111662, 0.951024)
bones/50/rotation = Quaternion(-0.353972, 0.371277, 0.463089, 0.722776)
bones/51/rotation = Quaternion(-0.611467, 0.0733345, 0.0378901, 0.786953)
bones/52/rotation = Quaternion(-0.10019, -0.0202467, 0.284063, 0.953342)
bones/53/rotation = Quaternion(-0.0932778, -0.00229338, 0.246676, 0.964596)
bones/55/rotation = Quaternion(0.00214709, 0.00215816, 0.999956, 0.00892456)
bones/56/rotation = Quaternion(0.0138917, -0.0168912, 0.990289, 0.137295)
bones/56/scale = Vector3(1, 1, 1)
bones/58/rotation = Quaternion(-0.148109, 0.0263154, 0.0188419, 0.988441)
bones/58/scale = Vector3(1, 1, 0.999989)
bones/59/rotation = Quaternion(-0.138934, 0.0225749, 0.00587733, 0.990027)
bones/59/scale = Vector3(1.00001, 1, 0.999989)
bones/60/rotation = Quaternion(-0.206717, 0.116457, -0.0354575, 0.970798)
bones/60/scale = Vector3(1.00004, 1, 0.99995)
bones/61/rotation = Quaternion(-0.305706, 0.0737705, 0.0120524, 0.949187)
bones/61/scale = Vector3(0.966884, 0.966884, 0.966884)
bones/63/rotation = Quaternion(-0.149831, -0.149828, 0.69105, 0.691052)
bones/64/rotation = Quaternion(0.000329446, 0.00768275, -0.545373, 0.838158)
bones/64/scale = Vector3(0.999978, 1, 1)
bones/65/rotation = Quaternion(0.00320206, -0.00590536, -0.136938, 0.990557)
bones/65/scale = Vector3(0.999953, 1.00005, 0.999999)
bones/66/rotation = Quaternion(-0.000511612, 0.00402443, -0.599382, 0.800453)
bones/66/scale = Vector3(1, 1, 1)
bones/69/rotation = Quaternion(-0.14879, 0.0273633, 0.0291177, 0.988061)
bones/69/scale = Vector3(1, 1, 0.999989)
bones/70/rotation = Quaternion(-0.216865, 0.0238805, 0.00886189, 0.975869)
bones/70/scale = Vector3(1.00001, 0.999999, 0.999987)
bones/71/rotation = Quaternion(-0.29631, 0.114373, -0.0482691, 0.94699)
bones/71/scale = Vector3(1.00004, 0.999993, 0.99996)
bones/72/rotation = Quaternion(-0.38284, 0.0701102, 0.0238908, 0.920841)
bones/72/scale = Vector3(0.918726, 0.918726, 0.918726)
bones/75/rotation = Quaternion(-0.447647, 0.0710501, 0.0232224, 0.891081)
bones/75/scale = Vector3(0.811287, 0.811287, 0.811287)
bones/77/rotation = Quaternion(-0.0987018, 0.0314222, 0.0227249, 0.994361)
bones/77/scale = Vector3(1, 1, 0.99999)
bones/78/rotation = Quaternion(-0.326136, 0.0255276, 0.0117135, 0.944906)
bones/78/scale = Vector3(1.00001, 0.999997, 0.999987)
bones/79/rotation = Quaternion(-0.437188, 0.108767, -0.0687666, 0.890117)
bones/79/scale = Vector3(1.00003, 0.99996, 0.99999)
bones/81/rotation = Quaternion(-0.139983, -0.0786114, 0.975571, 0.149952)
bones/81/scale = Vector3(1.00003, 0.999998, 0.999959)
bones/82/scale = Vector3(0.760341, 0.625441, 0.76034)
bones/83/rotation = Quaternion(-0.499999, -0.499999, 0.500002, 0.499999)
bones/84/rotation = Quaternion(0.499984, -0.499985, 0.500014, 0.500017)
bones/85/position = Vector3(-0.00390781, 0.0527364, 0.0957321)
bones/85/rotation = Quaternion(0.499984, -0.499985, 0.500014, 0.500017)
bones/86/position = Vector3(-0.00390878, 0.0565452, -0.0935265)
bones/86/rotation = Quaternion(0.499984, -0.499985, 0.500014, 0.500017)
bones/88/position = Vector3(-0.00029844, -1.52436e-06, 0.115924)
bones/89/rotation = Quaternion(7.45058e-09, 3.72529e-09, 1, -7.45058e-09)
bones/90/position = Vector3(-5.42402e-06, 0.106271, -0.0266081)
bones/91/position = Vector3(0.00029853, 1.44963e-06, -0.115924)
bones/92/position = Vector3(-4.70877e-06, -0.00234357, 0.0266991)
bones/95/rotation = Quaternion(-0.326214, -0.0142026, -0.0152935, 0.945066)
bones/96/rotation = Quaternion(0.128763, -0.110373, -0.450052, 0.87675)
bones/97/rotation = Quaternion(-0.156194, 0.0651916, 0.358516, 0.918052)
bones/98/rotation = Quaternion(0.998879, -0.00363882, -7.04151e-05, -0.0472031)
bones/99/rotation = Quaternion(0.701626, 0.155802, 0.502125, -0.480955)
bones/100/rotation = Quaternion(-0.102636, -0.139939, 0.970421, 0.16783)
bones/101/rotation = Quaternion(-0.220147, -0.175747, 0.942741, -0.178572)
bones/102/rotation = Quaternion(0.347361, 0.670795, -0.569673, 0.323802)
bones/103/rotation = Quaternion(0.048312, -0.00939858, 0.0387583, 0.998036)
bones/104/rotation = Quaternion(-0.631472, 0.253185, 0.613779, 0.40052)
bones/105/rotation = Quaternion(0.0909926, -0.153708, 0.943143, -0.280315)
bones/106/rotation = Quaternion(0.21031, -0.163438, 0.957032, 0.114663)
bones/107/rotation = Quaternion(-0.310924, 0.71993, -0.587619, -0.199327)
bones/108/rotation = Quaternion(-0.0144357, 0.0317433, 0.0310843, 0.998908)
bones/112/rotation = Quaternion(0.996314, 0.00132671, -4.56106e-05, -0.0857684)
bones/113/rotation = Quaternion(0.999512, -0.00108107, -0.000266348, -0.0312043)
bones/114/position = Vector3(0.102236, 0.112109, 0.113828)
bones/114/rotation = Quaternion(0.00282251, 0.758287, 0.651907, 0.00322801)
bones/115/position = Vector3(-0.101588, 0.112202, 0.114127)
bones/115/rotation = Quaternion(0.00272395, 0.758262, 0.651936, 0.00316815)
bones/116/rotation = Quaternion(0.935034, 0.0759168, -0.0600085, 0.341097)
bones/117/rotation = Quaternion(0.144608, 4.2177e-08, 6.32737e-09, 0.989489)
bones/117/scale = Vector3(1, 1, 0.999998)
bones/118/rotation = Quaternion(0.042081, 4.99049e-09, 1.68e-09, 0.999114)
bones/118/scale = Vector3(1, 1, 0.999999)
bones/119/rotation = Quaternion(-0.484272, -0.12047, 0.0161617, 0.866433)
bones/120/rotation = Quaternion(1.88613e-08, 0.959381, -0.282113, -3.77321e-08)
bones/121/rotation = Quaternion(-0.384436, 5.74738e-10, -6.29245e-09, 0.923152)
bones/122/position = Vector3(-1.19209e-07, 0.0866593, -0.124063)
bones/122/rotation = Quaternion(0.994622, -2.34353e-07, 1.35082e-08, 0.103573)
bones/122/scale = Vector3(1, 1, 1.00006)
bones/123/position = Vector3(-1.49012e-08, 0.0552025, -0.129837)
bones/124/rotation = Quaternion(0.980409, -0.074128, 0.0696527, 0.168678)
bones/125/rotation = Quaternion(0.158117, 3.62951e-08, -1.47035e-09, 0.98742)
bones/125/scale = Vector3(1, 1, 0.999999)
bones/126/rotation = Quaternion(0.0328234, 1.0603e-09, 1.91678e-09, 0.999461)
bones/126/scale = Vector3(1, 1, 1)
bones/127/position = Vector3(0.0286197, 0.44696, -0.00286892)
bones/127/rotation = Quaternion(-0.585329, 0.0697775, -0.0780825, 0.804005)
bones/128/rotation = Quaternion(6.14475e-09, 0.940004, -0.341165, -4.50954e-08)
bones/129/rotation = Quaternion(-0.384436, -5.74738e-10, 4.27475e-09, 0.923152)
bones/130/position = Vector3(1.19209e-07, 0.0873628, -0.124124)
bones/130/rotation = Quaternion(0.993654, -4.50982e-07, 1.54491e-08, 0.112479)
bones/130/scale = Vector3(1, 1, 1.00006)
bones/131/position = Vector3(0, 0.0582119, -0.129693)
bones/132/position = Vector3(0.174386, 1.84115, 1.06563)
bones/133/position = Vector3(-0.101405, 1.84115, 1.06563)
bones/134/position = Vector3(0.45107, 1.3891, -0.136944)
bones/135/position = Vector3(-0.0979647, 1.41809, -0.459889)
bones/135/rotation = Quaternion(0.994944, -3.62154e-10, 0.100433, 3.5877e-09)
bones/136/position = Vector3(-0.0224786, 3.21422, 7.7703)
bones/137/position = Vector3(0.627854, 2.28384, -0.462515)
bones/137/rotation = Quaternion(-0.707029, 0.0104927, -0.0104927, 0.707029)
bones/138/position = Vector3(0.503362, 2.64017, -0.393887)
bones/139/position = Vector3(-0.296639, 2.34484, -0.0794627)
bones/139/rotation = Quaternion(-0.707029, 0.0104927, -0.0104927, 0.707029)
bones/140/position = Vector3(-0.221877, 2.69954, -0.360149)
bones/141/position = Vector3(0.137896, 1.39003, -0.626978)
bones/142/position = Vector3(-0.137896, 1.38346, -0.626978)
bones/143/position = Vector3(0.0163079, 3.12809, -1.24379)
bones/143/rotation = Quaternion(1, 0, -0.000670865, 0)
bones/143/scale = Vector3(1, 1.05594, 1)

[node name="GunBone" parent="PlayerModel/Robot_Skeleton/Skeleton3D" index="5"]
transform = Transform3D(0.144697, 0.187795, -0.971502, 0.631805, 0.738149, 0.236769, 0.761669, -0.647973, -0.0118406, -0.296109, 1.10062, -0.0783474)

[node name="AnimationTree" parent="." index="4"]
tree_root = SubResource("AnimationNodeBlendTree_8rwx7")
parameters/aim/add_amount = 0
parameters/state/transition_request = "walk"
parameters/walk/blend_position = Vector2(0, 0)

[node name="PlayerController" parent="." index="11" instance=ExtResource("2_uqu3g")]

[node name="Label3D" type="Label3D" parent="." index="12"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.09588, 0)
text = "No user"

[editable path="PlayerModel"]
