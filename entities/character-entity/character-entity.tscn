[gd_scene load_steps=28 format=3 uid="uid://ch5t8f7mxyx1v"]

[ext_resource type="PackedScene" uid="uid://baunvflaucrbn" path="res://content/player/player.tscn" id="1_tcir3"]
[ext_resource type="PackedScene" uid="uid://cibc2v3g1bk4g" path="res://controllers/character/character-controller.tscn" id="2_uqu3g"]
[ext_resource type="Script" path="res://controllers/character/character-input-adapted.gd" id="2_vwyvh"]

[sub_resource type="AnimationNodeAdd3" id="AnimationNodeAdd3_6nea4"]
resource_local_to_scene = true
filter_enabled = true
filters = ["Robot_Skeleton/Skeleton3D:neck.001", "Robot_Skeleton/Skeleton3D:upper_arm.R"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oi7qe"]
resource_local_to_scene = true
animation = &"AIM-Down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vqrxu"]
resource_local_to_scene = true
animation = &"AIM-Up"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_8oi2j"]
resource_local_to_scene = true
filter_enabled = true
filters = ["Robot_Skeleton/Skeleton3D:eyelid.d.L", "Robot_Skeleton/Skeleton3D:eyelid.d.R", "Robot_Skeleton/Skeleton3D:eyelid.u.L", "Robot_Skeleton/Skeleton3D:eyelid.u.R", "Robot_Skeleton/Skeleton3D:eyes"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tuy72"]
resource_local_to_scene = true
animation = &"eyes"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s6g04"]
resource_local_to_scene = true
animation = &"jump_5_hardlanding"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_35vdm"]
resource_local_to_scene = true
animation = &"jump_4_falling"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xsgum"]
resource_local_to_scene = true
animation = &"jump_2_upwards"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_7b30c"]
resource_local_to_scene = true
fadein_time = 0.25
fadeout_time = 0.25
autorestart_random_delay = 1.0

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_x6oo7"]
resource_local_to_scene = true
xfade_time = 0.2
input_0/name = "strafe"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "walk"
input_1/auto_advance = false
input_1/reset = true
input_2/name = "jump_up"
input_2/auto_advance = false
input_2/reset = true
input_3/name = "jump_down"
input_3/auto_advance = false
input_3/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_q4it3"]
resource_local_to_scene = true
animation = &"strafe_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_is3cv"]
resource_local_to_scene = true
animation = &"strafe_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ytkch"]
resource_local_to_scene = true
animation = &"strafe_back"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fudg0"]
resource_local_to_scene = true
animation = &"strafe_front"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_81lib"]
resource_local_to_scene = true
animation = &"Idlecombat"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_li3j1"]
resource_local_to_scene = true
blend_point_0/node = SubResource("AnimationNodeAnimation_q4it3")
blend_point_0/pos = Vector2(1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_is3cv")
blend_point_1/pos = Vector2(-1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_ytkch")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_fudg0")
blend_point_3/pos = Vector2(0, 1)
blend_point_4/node = SubResource("AnimationNodeAnimation_81lib")
blend_point_4/pos = Vector2(0, 0)

[sub_resource type="AnimationNodeTimeScale" id="37"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_whteq"]
resource_local_to_scene = true
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5sgt6"]
resource_local_to_scene = true
animation = &"running_nogun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mjnh2"]
resource_local_to_scene = true
animation = &"running_gun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mojv7"]
resource_local_to_scene = true
animation = &"Idlecombat"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_v3r53"]
resource_local_to_scene = true
blend_point_0/node = SubResource("AnimationNodeAnimation_whteq")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_5sgt6")
blend_point_1/pos = Vector2(1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_mjnh2")
blend_point_2/pos = Vector2(1, 1)
blend_point_3/node = SubResource("AnimationNodeAnimation_mojv7")
blend_point_3/pos = Vector2(0, 1)
min_space = Vector2(0, 0)
x_label = "speed"
y_label = "gun"

[sub_resource type="AnimationNodeTimeScale" id="36"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_8rwx7"]
resource_local_to_scene = true
graph_offset = Vector2(-322.763, -75.756)
nodes/aim/node = SubResource("AnimationNodeAdd3_6nea4")
nodes/aim/position = Vector2(1120, 1240)
nodes/aimdown/node = SubResource("AnimationNodeAnimation_oi7qe")
nodes/aimdown/position = Vector2(140, 580)
nodes/aimup/node = SubResource("AnimationNodeAnimation_vqrxu")
nodes/aimup/position = Vector2(140, 380)
nodes/eye_blend/node = SubResource("AnimationNodeBlend2_8oi2j")
nodes/eye_blend/position = Vector2(1340, 1220)
nodes/eyes/node = SubResource("AnimationNodeAnimation_tuy72")
nodes/eyes/position = Vector2(140, 580)
nodes/hardland/node = SubResource("AnimationNodeAnimation_s6g04")
nodes/hardland/position = Vector2(140, 780)
nodes/jumpdown/node = SubResource("AnimationNodeAnimation_35vdm")
nodes/jumpdown/position = Vector2(140, 980)
nodes/jumpup/node = SubResource("AnimationNodeAnimation_xsgum")
nodes/jumpup/position = Vector2(140, 1180)
nodes/land/node = SubResource("AnimationNodeOneShot_7b30c")
nodes/land/position = Vector2(880, 1300)
nodes/output/position = Vector2(1560, 1220)
nodes/state/node = SubResource("AnimationNodeTransition_x6oo7")
nodes/state/position = Vector2(680, 1340)
nodes/strafe/node = SubResource("AnimationNodeBlendSpace2D_li3j1")
nodes/strafe/position = Vector2(140, 1400)
nodes/strafe_speed/node = SubResource("37")
nodes/strafe_speed/position = Vector2(440, 1360)
nodes/walk/node = SubResource("AnimationNodeBlendSpace2D_v3r53")
nodes/walk/position = Vector2(140, 1640)
nodes/walk_speed/node = SubResource("36")
nodes/walk_speed/position = Vector2(440, 1600)
node_connections = [&"aim", 0, &"aimdown", &"aim", 1, &"land", &"aim", 2, &"aimup", &"eye_blend", 0, &"aim", &"eye_blend", 1, &"eyes", &"land", 0, &"state", &"land", 1, &"hardland", &"output", 0, &"eye_blend", &"state", 0, &"strafe_speed", &"state", 1, &"walk_speed", &"state", 2, &"jumpup", &"state", 3, &"jumpdown", &"strafe_speed", 0, &"strafe", &"walk_speed", 0, &"walk"]

[node name="Player" instance=ExtResource("1_tcir3")]

[node name="InputSynchronizer" parent="." index="1"]
unique_name_in_owner = true
script = ExtResource("2_vwyvh")

[node name="Skeleton3D" parent="PlayerModel/Robot_Skeleton" index="0"]
bones/1/position = Vector3(0.170142, 2.22711, -0.313557)
bones/1/rotation = Quaternion(0.183585, -0.00120694, -0.00614962, 0.982984)
bones/2/position = Vector3(2.40656e-06, 0.238936, -0.000195706)
bones/2/rotation = Quaternion(-0.0899588, 0.0593662, -0.0165564, 0.994037)
bones/3/position = Vector3(7.81059e-06, 0.103106, -0.000212141)
bones/3/rotation = Quaternion(-0.0985634, 0.0614632, -0.0045544, 0.99322)
bones/4/position = Vector3(2.39852e-06, 0.117049, 4.92882e-05)
bones/4/rotation = Quaternion(-0.0356113, 0.061483, 0.00427874, 0.997463)
bones/5/rotation = Quaternion(0.180715, -8.5224e-05, -0.00187649, 0.983534)
bones/6/rotation = Quaternion(0.00814541, 0.775691, 0.630958, -0.0114099)
bones/7/rotation = Quaternion(-0.00758947, 0.707008, 0.707146, 0.00519206)
bones/10/position = Vector3(-1.78603e-08, 0.245584, 0.126631)
bones/11/rotation = Quaternion(4.17117e-07, 0.930597, 0.366045, -5.68699e-07)
bones/12/rotation = Quaternion(4.16788e-07, 0.930597, 0.366045, -5.6936e-07)
bones/13/rotation = Quaternion(0.0442978, 0.958142, -0.282457, 0.0147935)
bones/14/rotation = Quaternion(2.09134e-07, 0.959165, -0.282846, -7.20805e-07)
bones/15/rotation = Quaternion(-0.33931, -0.35277, -0.469839, 0.734625)
bones/16/rotation = Quaternion(-0.512108, 0.0162898, -0.0322797, 0.85816)
bones/17/rotation = Quaternion(-0.10889, 0.00540958, -0.21347, 0.970847)
bones/18/rotation = Quaternion(-0.149722, -0.00205092, -0.240128, 0.959123)
bones/20/rotation = Quaternion(-0.0338717, -0.0177171, 0.985158, 0.167341)
bones/22/rotation = Quaternion(-0.180391, -0.0483309, 0.00149297, 0.982406)
bones/23/rotation = Quaternion(-0.195344, -0.0201494, -0.00221938, 0.980525)
bones/24/rotation = Quaternion(-0.286645, -0.119605, 0.00315284, 0.950536)
bones/25/rotation = Quaternion(-0.392288, -0.0723375, -0.0188318, 0.9168)
bones/25/scale = Vector3(0.930243, 0.930243, 0.930243)
bones/27/rotation = Quaternion(-0.0490002, 0.0490007, -0.705409, 0.705404)
bones/28/rotation = Quaternion(0.000234227, -0.00785343, 0.502688, 0.864432)
bones/29/rotation = Quaternion(0.00420375, 0.00610657, 0.137007, 0.990542)
bones/30/rotation = Quaternion(-0.000297492, -0.00406863, 0.558561, 0.829453)
bones/33/rotation = Quaternion(-0.148717, -0.0285447, -0.00771047, 0.988438)
bones/34/rotation = Quaternion(-0.247354, -0.0266954, -0.00158174, 0.968556)
bones/35/rotation = Quaternion(-0.349039, -0.119549, -0.00478448, 0.929439)
bones/36/rotation = Quaternion(-0.413844, -0.0692595, -0.0262551, 0.907329)
bones/36/scale = Vector3(0.889722, 0.889722, 0.889722)
bones/39/rotation = Quaternion(-0.0995785, -0.0144378, -0.002125, 0.994923)
bones/40/rotation = Quaternion(-0.323602, -0.017006, -0.00578517, 0.946023)
bones/41/rotation = Quaternion(-0.458253, -0.118108, -0.0191228, 0.880732)
bones/42/rotation = Quaternion(-0.447648, -0.0710501, -0.0232223, 0.89108)
bones/42/scale = Vector3(0.804587, 0.804588, 0.804587)
bones/45/rotation = Quaternion(0.189582, -0.137612, 0.960075, 0.152895)
bones/47/rotation = Quaternion(-0.296715, 0.0103692, 0.0422796, 0.953973)
bones/48/rotation = Quaternion(0.102849, 0.104367, 0.456997, 0.877316)
bones/49/rotation = Quaternion(-0.173548, -0.0606913, -0.325291, 0.927569)
bones/50/rotation = Quaternion(-0.360343, 0.366926, 0.4717, 0.716252)
bones/51/rotation = Quaternion(-0.608473, 0.0357312, -0.262399, 0.748085)
bones/52/rotation = Quaternion(-0.113757, -0.0274686, 0.363351, 0.924273)
bones/53/rotation = Quaternion(-0.105396, -0.00443582, 0.322864, 0.940548)
bones/55/rotation = Quaternion(0.00214709, 0.00215816, 0.999956, 0.00892456)
bones/56/rotation = Quaternion(0.0138917, -0.0168912, 0.990289, 0.137295)
bones/58/rotation = Quaternion(-0.17322, 0.0279889, 0.0245555, 0.984179)
bones/59/rotation = Quaternion(-0.205955, 0.023963, 0.00894461, 0.978227)
bones/59/scale = Vector3(1.00001, 1, 0.999989)
bones/60/rotation = Quaternion(-0.273156, 0.115187, -0.0444996, 0.954011)
bones/61/rotation = Quaternion(-0.392288, 0.0723375, 0.0188319, 0.9168)
bones/61/scale = Vector3(0.930243, 0.930244, 0.930243)
bones/63/rotation = Quaternion(-0.149831, -0.149828, 0.69105, 0.691052)
bones/64/rotation = Quaternion(0.000398492, 0.00758151, -0.572563, 0.819826)
bones/64/scale = Vector3(0.999978, 1, 1)
bones/65/rotation = Quaternion(0.00320212, -0.00590535, -0.136944, 0.990556)
bones/66/rotation = Quaternion(-0.000643223, 0.00400548, -0.625293, 0.780379)
bones/66/scale = Vector3(1, 1, 1)
bones/69/rotation = Quaternion(-0.143436, 0.0282978, 0.0301255, 0.988796)
bones/70/rotation = Quaternion(-0.253028, 0.0245186, 0.0101042, 0.967095)
bones/70/scale = Vector3(1.00001, 0.999999, 0.999987)
bones/71/rotation = Quaternion(-0.338542, 0.113048, -0.0542659, 0.932558)
bones/72/rotation = Quaternion(-0.413843, 0.0692598, 0.0262543, 0.90733)
bones/72/scale = Vector3(0.889722, 0.889722, 0.889722)
bones/75/rotation = Quaternion(-0.447647, 0.0710501, 0.0232223, 0.891081)
bones/75/scale = Vector3(0.804587, 0.804587, 0.804587)
bones/77/rotation = Quaternion(-0.0928721, 0.0315618, 0.022374, 0.994926)
bones/78/rotation = Quaternion(-0.33104, 0.0255653, 0.011738, 0.943197)
bones/78/scale = Vector3(1.00001, 0.999997, 0.999987)
bones/79/rotation = Quaternion(-0.445032, 0.108343, -0.0699811, 0.886178)
bones/79/scale = Vector3(1.00003, 0.99996, 0.99999)
bones/81/rotation = Quaternion(-0.139983, -0.0786114, 0.975571, 0.149952)
bones/83/rotation = Quaternion(-0.499999, -0.499999, 0.500002, 0.499999)
bones/84/rotation = Quaternion(0.499984, -0.499985, 0.500014, 0.500017)
bones/85/rotation = Quaternion(0.499984, -0.499985, 0.500014, 0.500017)
bones/86/rotation = Quaternion(0.499984, -0.499985, 0.500014, 0.500017)
bones/95/rotation = Quaternion(-0.310935, -0.00729904, -0.299532, 0.901968)
bones/96/rotation = Quaternion(0.174129, -0.0795958, -0.625085, 0.756712)
bones/97/rotation = Quaternion(-0.221008, 0.0474167, 0.0586049, 0.972354)
bones/98/rotation = Quaternion(0.999117, -0.00785672, 0.00416697, -0.0410657)
bones/99/rotation = Quaternion(0.636348, 0.248619, 0.603483, -0.411167)
bones/100/rotation = Quaternion(-0.0908964, -0.132472, 0.953132, 0.256376)
bones/101/rotation = Quaternion(-0.207564, -0.178198, 0.956732, -0.0991316)
bones/102/rotation = Quaternion(0.311789, 0.710877, -0.601483, 0.188838)
bones/103/rotation = Quaternion(0.0590914, -0.0151819, 0.0379425, 0.997416)
bones/104/rotation = Quaternion(-0.708895, 0.143008, 0.487467, 0.489278)
bones/105/rotation = Quaternion(0.111551, -0.18521, 0.965173, -0.147291)
bones/106/rotation = Quaternion(0.22121, -0.187149, 0.938673, 0.186906)
bones/107/rotation = Quaternion(-0.349573, 0.666303, -0.569942, -0.33016)
bones/108/rotation = Quaternion(-0.00212696, 0.0329782, 0.0313743, 0.998961)
bones/112/rotation = Quaternion(0.996187, 0.0217809, 0.00117947, -0.084476)
bones/113/rotation = Quaternion(0.999404, -0.0109865, -0.0018811, -0.0326805)
bones/114/position = Vector3(0.10792, 0.111221, 0.111293)
bones/114/rotation = Quaternion(0.0206807, 0.757777, 0.65201, -0.0151299)
bones/115/position = Vector3(-0.0961307, 0.112539, 0.117108)
bones/115/rotation = Quaternion(0.0214381, 0.757809, 0.651976, -0.0139046)
bones/116/rotation = Quaternion(0.930578, 0.0795218, -0.0618407, 0.35196)
bones/117/rotation = Quaternion(0.155184, 4.48334e-08, 3.77272e-09, 0.987886)
bones/118/rotation = Quaternion(0.052115, -6.93842e-10, 1.74164e-09, 0.998641)
bones/119/rotation = Quaternion(-0.492368, -0.11947, 0.021239, 0.861887)
bones/121/rotation = Quaternion(-0.384436, 5.74738e-10, -6.29245e-09, 0.923152)
bones/122/rotation = Quaternion(0.993868, -2.89249e-07, 1.15976e-08, 0.110572)
bones/124/rotation = Quaternion(0.978605, -0.0722765, 0.0666275, 0.180747)
bones/125/rotation = Quaternion(0.170158, 3.63724e-08, -3.77853e-09, 0.985417)
bones/126/rotation = Quaternion(0.0439257, 3.55934e-09, 1.21038e-09, 0.999035)
bones/127/rotation = Quaternion(-0.595889, 0.0700719, -0.0757185, 0.796413)
bones/128/rotation = Quaternion(6.14475e-09, 0.940004, -0.341165, -4.50954e-08)
bones/129/rotation = Quaternion(-0.384436, -5.74738e-10, 4.27475e-09, 0.923152)
bones/130/rotation = Quaternion(0.992608, -4.22733e-07, 1.87761e-08, 0.121361)
bones/136/position = Vector3(2.96874, 2.55845, 6.45233)
bones/137/position = Vector3(0.640851, 2.28997, -0.460209)
bones/137/rotation = Quaternion(-0.707029, 0.0104927, -0.0104927, 0.707029)
bones/138/position = Vector3(0.51578, 2.65212, -0.393887)
bones/139/position = Vector3(-0.309657, 2.35091, -0.0769593)
bones/139/rotation = Quaternion(-0.707029, 0.0104927, -0.0104927, 0.707029)
bones/140/position = Vector3(-0.233966, 2.71184, -0.360149)
bones/143/position = Vector3(0.0109488, 3.13087, -1.24379)
bones/143/rotation = Quaternion(0.999052, 0, -0.043537, 0)
bones/143/scale = Vector3(1, 1.01691, 1)

[node name="GunBone" parent="PlayerModel/Robot_Skeleton/Skeleton3D" index="5"]
transform = Transform3D(0.136709, 0.200862, -0.970044, 0.633658, 0.735028, 0.241482, 0.761605, -0.647603, -0.0267897, -0.310431, 1.10696, -0.0768524)

[node name="AnimationTree" parent="." index="4"]
tree_root = SubResource("AnimationNodeBlendTree_8rwx7")

[node name="PlayerController" parent="." index="11" instance=ExtResource("2_uqu3g")]

[node name="Username" type="Label3D" parent="." index="12"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.09588, 0)
billboard = 1

[editable path="PlayerModel"]
