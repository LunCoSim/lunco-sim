[gd_scene load_steps=28 format=3 uid="uid://ch5t8f7mxyx1v"]

[ext_resource type="PackedScene" uid="uid://baunvflaucrbn" path="res://content/player/player.tscn" id="1_tcir3"]
[ext_resource type="PackedScene" uid="uid://cibc2v3g1bk4g" path="res://controllers/player/player-controller.tscn" id="2_uqu3g"]
[ext_resource type="Script" path="res://controllers/player/player-input-adapted.gd" id="2_vwyvh"]

[sub_resource type="AnimationNodeAdd3" id="AnimationNodeAdd3_6nea4"]
resource_local_to_scene = true
filter_enabled = true
filters = ["Robot_Skeleton/Skeleton3D:neck.001", "Robot_Skeleton/Skeleton3D:upper_arm.R"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oi7qe"]
resource_local_to_scene = true
animation = &"AIM-Down"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vqrxu"]
resource_local_to_scene = true
animation = &"AIM-Up"

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_8oi2j"]
resource_local_to_scene = true
filter_enabled = true
filters = ["Robot_Skeleton/Skeleton3D:eyelid.d.L", "Robot_Skeleton/Skeleton3D:eyelid.d.R", "Robot_Skeleton/Skeleton3D:eyelid.u.L", "Robot_Skeleton/Skeleton3D:eyelid.u.R", "Robot_Skeleton/Skeleton3D:eyes"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tuy72"]
resource_local_to_scene = true
animation = &"eyes"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s6g04"]
resource_local_to_scene = true
animation = &"jump_5_hardlanding"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_35vdm"]
resource_local_to_scene = true
animation = &"jump_4_falling"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_xsgum"]
resource_local_to_scene = true
animation = &"jump_2_upwards"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_7b30c"]
resource_local_to_scene = true
fadein_time = 0.25
fadeout_time = 0.25
autorestart_random_delay = 1.0

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_x6oo7"]
resource_local_to_scene = true
xfade_time = 0.2
input_0/name = "strafe"
input_0/auto_advance = false
input_0/reset = true
input_1/name = "walk"
input_1/auto_advance = false
input_1/reset = true
input_2/name = "jump_up"
input_2/auto_advance = false
input_2/reset = true
input_3/name = "jump_down"
input_3/auto_advance = false
input_3/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_q4it3"]
resource_local_to_scene = true
animation = &"strafe_left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_is3cv"]
resource_local_to_scene = true
animation = &"strafe_right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ytkch"]
resource_local_to_scene = true
animation = &"strafe_back"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fudg0"]
resource_local_to_scene = true
animation = &"strafe_front"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_81lib"]
resource_local_to_scene = true
animation = &"Idlecombat"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_li3j1"]
resource_local_to_scene = true
blend_point_0/node = SubResource("AnimationNodeAnimation_q4it3")
blend_point_0/pos = Vector2(1, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_is3cv")
blend_point_1/pos = Vector2(-1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_ytkch")
blend_point_2/pos = Vector2(0, -1)
blend_point_3/node = SubResource("AnimationNodeAnimation_fudg0")
blend_point_3/pos = Vector2(0, 1)
blend_point_4/node = SubResource("AnimationNodeAnimation_81lib")
blend_point_4/pos = Vector2(0, 0)

[sub_resource type="AnimationNodeTimeScale" id="37"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_whteq"]
resource_local_to_scene = true
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5sgt6"]
resource_local_to_scene = true
animation = &"running_nogun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mjnh2"]
resource_local_to_scene = true
animation = &"running_gun"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_mojv7"]
resource_local_to_scene = true
animation = &"Idlecombat"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_v3r53"]
resource_local_to_scene = true
blend_point_0/node = SubResource("AnimationNodeAnimation_whteq")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_5sgt6")
blend_point_1/pos = Vector2(1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_mjnh2")
blend_point_2/pos = Vector2(1, 1)
blend_point_3/node = SubResource("AnimationNodeAnimation_mojv7")
blend_point_3/pos = Vector2(0, 1)
min_space = Vector2(0, 0)
x_label = "speed"
y_label = "gun"

[sub_resource type="AnimationNodeTimeScale" id="36"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_8rwx7"]
resource_local_to_scene = true
graph_offset = Vector2(-322.763, -75.756)
nodes/aim/node = SubResource("AnimationNodeAdd3_6nea4")
nodes/aim/position = Vector2(1120, 1240)
nodes/aimdown/node = SubResource("AnimationNodeAnimation_oi7qe")
nodes/aimdown/position = Vector2(140, 580)
nodes/aimup/node = SubResource("AnimationNodeAnimation_vqrxu")
nodes/aimup/position = Vector2(140, 380)
nodes/eye_blend/node = SubResource("AnimationNodeBlend2_8oi2j")
nodes/eye_blend/position = Vector2(1340, 1220)
nodes/eyes/node = SubResource("AnimationNodeAnimation_tuy72")
nodes/eyes/position = Vector2(140, 580)
nodes/hardland/node = SubResource("AnimationNodeAnimation_s6g04")
nodes/hardland/position = Vector2(140, 780)
nodes/jumpdown/node = SubResource("AnimationNodeAnimation_35vdm")
nodes/jumpdown/position = Vector2(140, 980)
nodes/jumpup/node = SubResource("AnimationNodeAnimation_xsgum")
nodes/jumpup/position = Vector2(140, 1180)
nodes/land/node = SubResource("AnimationNodeOneShot_7b30c")
nodes/land/position = Vector2(880, 1300)
nodes/output/position = Vector2(1560, 1220)
nodes/state/node = SubResource("AnimationNodeTransition_x6oo7")
nodes/state/position = Vector2(680, 1340)
nodes/strafe/node = SubResource("AnimationNodeBlendSpace2D_li3j1")
nodes/strafe/position = Vector2(140, 1400)
nodes/strafe_speed/node = SubResource("37")
nodes/strafe_speed/position = Vector2(440, 1360)
nodes/walk/node = SubResource("AnimationNodeBlendSpace2D_v3r53")
nodes/walk/position = Vector2(140, 1640)
nodes/walk_speed/node = SubResource("36")
nodes/walk_speed/position = Vector2(440, 1600)
node_connections = [&"aim", 0, &"aimdown", &"aim", 1, &"land", &"aim", 2, &"aimup", &"eye_blend", 0, &"aim", &"eye_blend", 1, &"eyes", &"land", 0, &"state", &"land", 1, &"hardland", &"output", 0, &"eye_blend", &"state", 0, &"strafe_speed", &"state", 1, &"walk_speed", &"state", 2, &"jumpup", &"state", 3, &"jumpdown", &"strafe_speed", 0, &"strafe", &"walk_speed", 0, &"walk"]

[node name="Player" instance=ExtResource("1_tcir3")]

[node name="InputSynchronizer" parent="." index="1"]
unique_name_in_owner = true
script = ExtResource("2_vwyvh")

[node name="Skeleton3D" parent="PlayerModel/Robot_Skeleton" index="0"]
bones/1/position = Vector3(0.17274, 2.23008, -0.315361)
bones/1/rotation = Quaternion(0.18303, -0.00121042, -0.00614894, 0.983087)
bones/2/position = Vector3(3.03062e-05, 0.243334, -0.00172474)
bones/2/rotation = Quaternion(-0.0909412, -0.000614746, -0.00278327, 0.995852)
bones/3/position = Vector3(3.03013e-05, 0.106883, -0.000753514)
bones/3/rotation = Quaternion(-0.0995023, -1.39269e-05, -0.00286332, 0.995033)
bones/4/position = Vector3(3.02962e-05, 0.121697, 0.000335335)
bones/4/rotation = Quaternion(-0.0364337, 0.000395537, -0.00283591, 0.999332)
bones/5/rotation = Quaternion(0.180715, -8.5224e-05, -0.00187649, 0.983534)
bones/6/rotation = Quaternion(-0.0206705, 0.799514, 0.600257, -0.00646249)
bones/7/rotation = Quaternion(-0.00820016, 0.706992, 0.707152, 0.00560983)
bones/10/position = Vector3(-2.15856e-08, 0.245584, 0.126631)
bones/11/rotation = Quaternion(4.1667e-07, 0.930597, 0.366045, -5.70122e-07)
bones/12/rotation = Quaternion(4.1671e-07, 0.930597, 0.366045, -5.69597e-07)
bones/13/rotation = Quaternion(0.0442983, 0.958142, -0.282457, 0.0147926)
bones/14/rotation = Quaternion(2.09593e-07, 0.959165, -0.282846, -7.20697e-07)
bones/15/rotation = Quaternion(-0.339124, -0.35289, -0.469574, 0.734822)
bones/16/rotation = Quaternion(-0.672008, 0.0798469, 0.167153, 0.717)
bones/17/rotation = Quaternion(-0.00490182, 0.00479096, -0.246791, 0.969045)
bones/18/rotation = Quaternion(-0.0137119, -0.00139566, -0.255244, 0.966779)
bones/20/rotation = Quaternion(-0.0338717, -0.0177171, 0.985158, 0.167341)
bones/22/rotation = Quaternion(-0.190783, -0.0468766, 0.00124931, 0.980511)
bones/23/rotation = Quaternion(-0.211698, -0.0201095, -0.00255571, 0.977125)
bones/24/rotation = Quaternion(-0.302844, -0.119642, 0.00110887, 0.9455)
bones/25/rotation = Quaternion(-0.416725, -0.0718067, -0.0207642, 0.905954)
bones/25/scale = Vector3(0.91965, 0.91965, 0.91965)
bones/27/rotation = Quaternion(-0.0490002, 0.0490007, -0.705409, 0.705404)
bones/28/rotation = Quaternion(0.000282381, -0.00779292, 0.520851, 0.853612)
bones/29/rotation = Quaternion(0.00420375, 0.00610657, 0.137007, 0.990542)
bones/30/rotation = Quaternion(-0.000383439, -0.00406142, 0.575972, 0.817459)
bones/33/rotation = Quaternion(-0.148351, -0.0275419, -0.0078557, 0.98852)
bones/34/rotation = Quaternion(-0.257013, -0.0258783, -0.00191797, 0.966059)
bones/35/rotation = Quaternion(-0.360372, -0.119481, -0.00624524, 0.925104)
bones/36/rotation = Quaternion(-0.422721, -0.0689987, -0.0269329, 0.903228)
bones/36/scale = Vector3(0.881337, 0.881337, 0.881337)
bones/39/rotation = Quaternion(-0.0984242, -0.0142046, -0.00211091, 0.995041)
bones/40/rotation = Quaternion(-0.324541, -0.0168571, -0.00585688, 0.945703)
bones/41/rotation = Quaternion(-0.460289, -0.118063, -0.0193959, 0.87967)
bones/42/rotation = Quaternion(-0.447648, -0.0710501, -0.0232223, 0.89108)
bones/42/scale = Vector3(0.80265, 0.802651, 0.802651)
bones/45/rotation = Quaternion(0.189582, -0.137612, 0.960075, 0.152895)
bones/47/rotation = Quaternion(-0.34269, 0.0115598, 0.252739, 0.904739)
bones/48/rotation = Quaternion(0.124361, 0.0740575, 0.613179, 0.77657)
bones/49/rotation = Quaternion(-0.273303, -0.0312857, -0.102495, 0.95594)
bones/50/rotation = Quaternion(-0.360388, 0.366895, 0.47176, 0.716206)
bones/51/rotation = Quaternion(-0.596122, 0.0719369, 0.0239031, 0.799308)
bones/52/rotation = Quaternion(-0.10403, -0.0209077, 0.293661, 0.950002)
bones/53/rotation = Quaternion(-0.0972821, -0.00245547, 0.25775, 0.961299)
bones/55/rotation = Quaternion(0.00214709, 0.00215816, 0.999956, 0.00892456)
bones/56/rotation = Quaternion(0.0138917, -0.0168912, 0.990289, 0.137295)
bones/58/rotation = Quaternion(-0.182953, 0.0284791, 0.0263291, 0.982356)
bones/59/rotation = Quaternion(-0.223159, 0.0243917, 0.00977835, 0.974428)
bones/59/scale = Vector3(1.00001, 1, 0.999989)
bones/60/rotation = Quaternion(-0.288272, 0.114873, -0.0464329, 0.949498)
bones/61/rotation = Quaternion(-0.416724, 0.0718067, 0.0207643, 0.905954)
bones/61/scale = Vector3(0.91965, 0.91965, 0.91965)
bones/63/rotation = Quaternion(-0.149831, -0.149828, 0.69105, 0.691052)
bones/64/rotation = Quaternion(0.000410912, 0.00755242, -0.580307, 0.814362)
bones/64/scale = Vector3(0.999978, 1, 1)
bones/65/rotation = Quaternion(0.00320212, -0.00590535, -0.136944, 0.990556)
bones/66/rotation = Quaternion(-0.000681165, 0.00399921, -0.632661, 0.774419)
bones/66/scale = Vector3(1, 1, 1)
bones/69/rotation = Quaternion(-0.143909, 0.0281534, 0.0299845, 0.988736)
bones/70/rotation = Quaternion(-0.262877, 0.0247152, 0.0104596, 0.964456)
bones/70/scale = Vector3(1.00001, 0.999999, 0.999987)
bones/71/rotation = Quaternion(-0.349546, 0.112679, -0.055768, 0.928446)
bones/72/rotation = Quaternion(-0.42272, 0.068999, 0.0269322, 0.903229)
bones/72/scale = Vector3(0.881337, 0.881337, 0.881337)
bones/75/rotation = Quaternion(-0.447647, 0.0710501, 0.0232223, 0.89108)
bones/75/scale = Vector3(0.80265, 0.80265, 0.80265)
bones/77/rotation = Quaternion(-0.0916365, 0.0315911, 0.0223005, 0.995041)
bones/78/rotation = Quaternion(-0.331952, 0.0255724, 0.0117419, 0.942876)
bones/78/scale = Vector3(1.00001, 0.999997, 0.999987)
bones/79/rotation = Quaternion(-0.446491, 0.108263, -0.0702075, 0.885436)
bones/79/scale = Vector3(1.00003, 0.99996, 0.99999)
bones/81/rotation = Quaternion(-0.139983, -0.0786114, 0.975571, 0.149952)
bones/83/rotation = Quaternion(-0.499999, -0.499999, 0.500002, 0.499999)
bones/84/rotation = Quaternion(0.499984, -0.499985, 0.500014, 0.500017)
bones/85/rotation = Quaternion(0.499984, -0.499985, 0.500014, 0.500017)
bones/86/rotation = Quaternion(0.499984, -0.499985, 0.500014, 0.500017)
bones/95/rotation = Quaternion(-0.279675, -0.00818413, -0.0572394, 0.958352)
bones/96/rotation = Quaternion(0.147969, -0.11158, -0.460848, 0.867914)
bones/97/rotation = Quaternion(-0.1261, 0.0744808, 0.351245, 0.924759)
bones/98/rotation = Quaternion(0.998878, -0.00389416, -8.09888e-05, -0.0472017)
bones/99/rotation = Quaternion(0.701652, 0.155757, 0.502073, -0.480985)
bones/100/rotation = Quaternion(-0.103691, -0.146129, 0.96961, 0.166584)
bones/101/rotation = Quaternion(-0.220403, -0.184259, 0.940561, -0.181153)
bones/102/rotation = Quaternion(0.345751, 0.674228, -0.568897, 0.319734)
bones/103/rotation = Quaternion(0.051179, -0.0109362, 0.0385546, 0.997885)
bones/104/rotation = Quaternion(-0.634182, 0.250075, 0.610213, 0.403628)
bones/105/rotation = Quaternion(0.0912701, -0.167344, 0.93675, -0.293538)
bones/106/rotation = Quaternion(0.211765, -0.19984, 0.948194, 0.127072)
bones/107/rotation = Quaternion(-0.308081, 0.726043, -0.582847, -0.195541)
bones/108/rotation = Quaternion(-0.0111636, 0.0320723, 0.0311598, 0.998937)
bones/112/rotation = Quaternion(0.996285, 0.00128662, -4.38811e-05, -0.0861077)
bones/113/rotation = Quaternion(0.999508, -0.00110376, -0.000272046, -0.0313568)
bones/114/position = Vector3(0.10288, 0.112046, 0.113513)
bones/114/rotation = Quaternion(0.00253441, 0.758291, 0.651905, 0.00279295)
bones/115/position = Vector3(-0.101401, 0.112214, 0.114225)
bones/115/rotation = Quaternion(0.00248046, 0.758268, 0.651932, 0.00277364)
bones/116/rotation = Quaternion(0.93447, 0.077343, -0.0610557, 0.342134)
bones/117/rotation = Quaternion(0.146059, 3.96881e-08, 2.9387e-09, 0.989276)
bones/118/rotation = Quaternion(0.0432295, 2.47997e-09, 2.3866e-09, 0.999065)
bones/119/rotation = Quaternion(-0.484954, -0.120142, 0.0180317, 0.86606)
bones/121/rotation = Quaternion(-0.384436, 5.74738e-10, -6.29245e-09, 0.923152)
bones/122/rotation = Quaternion(0.994599, -1.76339e-07, 9.95678e-09, 0.103792)
bones/124/rotation = Quaternion(0.980104, -0.0729359, 0.0682316, 0.171528)
bones/125/rotation = Quaternion(0.161072, 4.17986e-08, 2.29384e-09, 0.986943)
bones/126/rotation = Quaternion(0.0355127, 9.65859e-10, 1.39372e-09, 0.999369)
bones/127/rotation = Quaternion(-0.588082, 0.0701962, -0.0765126, 0.802108)
bones/128/rotation = Quaternion(6.14475e-09, 0.940004, -0.341165, -4.50954e-08)
bones/129/rotation = Quaternion(-0.384436, -5.74738e-10, 4.27475e-09, 0.923152)
bones/130/rotation = Quaternion(0.993405, -4.46328e-07, 1.70823e-08, 0.114661)
bones/136/position = Vector3(0.00607833, 3.22318, 7.7703)
bones/137/position = Vector3(0.631447, 2.28694, -0.462763)
bones/137/rotation = Quaternion(-0.707029, 0.0104927, -0.0104927, 0.707029)
bones/138/position = Vector3(0.507147, 2.64517, -0.393887)
bones/139/position = Vector3(-0.300384, 2.34797, -0.0795325)
bones/139/rotation = Quaternion(-0.707029, 0.0104927, -0.0104927, 0.707029)
bones/140/position = Vector3(-0.223348, 2.7035, -0.360149)
bones/143/position = Vector3(0.0162834, 3.12798, -1.24379)
bones/143/rotation = Quaternion(1, 0, -0.000142936, 0)
bones/143/scale = Vector3(1, 1.0631, 1)

[node name="GunBone" parent="PlayerModel/Robot_Skeleton/Skeleton3D" index="5"]
transform = Transform3D(0.153964, 0.18291, -0.97101, 0.643431, 0.727309, 0.239005, 0.750031, -0.661488, -0.00570968, -0.301096, 1.10417, -0.0792862)

[node name="AnimationTree" parent="." index="4"]
tree_root = SubResource("AnimationNodeBlendTree_8rwx7")

[node name="PlayerController" parent="." index="11" instance=ExtResource("2_uqu3g")]

[node name="Username" type="Label3D" parent="." index="12"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.09588, 0)
billboard = 1

[editable path="PlayerModel"]
